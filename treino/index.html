<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="theme-color" content="#ffffff">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Treino Hub">
    
    <title>Planejamento de Treino</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body { 
            -webkit-tap-highlight-color: transparent; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            overscroll-behavior-y: none; /* Previne efeito el√°stico no iOS */
        }
        .modal-overlay { background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); }
        input:focus { outline: none; border-color: #2563eb !important; }
        
        /* Ajustes de √Årea Segura (Notch do iPhone) */
        .safe-area-pt { padding-top: env(safe-area-inset-top); }
        .safe-area-pb { padding-bottom: env(safe-area-inset-bottom); }
        
        /* Esconder scrollbar mantendo funcionalidade */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-100 text-slate-900 safe-area-pt safe-area-pb select-none">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const App = () => {
            // L√≥gica para abrir na aba do dia correto
            const getInitialTab = () => {
                const day = new Date().getDay(); 
                switch(day) {
                    case 1: return 'A1'; case 2: return 'B1'; case 3: return 'Rest1';
                    case 4: return 'A2'; case 5: return 'B2'; case 6: return 'Rest2';
                    default: return 'A1'; 
                }
            };

            const [activeTab, setActiveTab] = useState(getInitialTab);
            const [modalExercise, setModalExercise] = useState(null);

            // --- BANCO DE DADOS (V√≠deos MP4 do GitHub - R√°pido e Sem Bloqueio) ---
            const trainingData = {
                A1: {
                    title: "A1: Superiores (Vertical)",
                    days: "Segunda-feira",
                    focus: "Peito Superior / Costas Largura",
                    exercises: [
                        { 
                            name: "Supino Inclinado (Halter)", 
                            setsA: 4, setsI: 3, reps: "10-12", wA: "14kg", wI: "6kg", 
                            tip: "Banco a 30 graus. Sinta o peito alto.", 
                            visual: "Deite no banco inclinado. Inicie com os halteres acima do peito.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Dumbbell_Incline_Bench_Press/0.mp4"
                        },
                        { 
                            name: "Puxada Alta (Polia)", 
                            setsA: 4, setsI: 3, reps: "10-12", wA: "40kg", wI: "20kg", 
                            tip: "Cotovelos para baixo. V-Shape.", 
                            visual: "Segure a barra com pegada aberta. Puxe em dire√ß√£o ao peito.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Cable_Lat_Pulldown/0.mp4"
                        },
                        { 
                            name: "Desenvolvimento (Halter)", 
                            setsA: 4, setsI: 3, reps: "8-10", wA: "12kg", wI: "5kg", 
                            tip: "Ombros largos. Core travado.", 
                            visual: "Sentado, empurre os halteres verticalmente at√© quase esticar os bra√ßos.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Dumbbell_Shoulder_Press/0.mp4"
                        },
                        { 
                            name: "Tr√≠ceps Corda", 
                            setsA: 3, setsI: 2, reps: "12-15", wA: "15kg", wI: "8kg", 
                            tip: "Abra a corda no final.", 
                            visual: "Polia alta. Cotovelos colados ao corpo. Estenda o bra√ßo para baixo.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Cable_Triceps_Pushdown_(rope)/0.mp4" 
                        },
                        { 
                            name: "Abdominal Supra", 
                            setsA: 3, setsI: 3, reps: "15-20", wA: "Corpo", wI: "Corpo", 
                            tip: "Solte todo o ar na subida.", 
                            visual: "Deitado, tire apenas as omoplatas do ch√£o contraindo o abd√≥men.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Crunch/0.mp4"
                        }
                    ]
                },
                B1: {
                    title: "B1: Inferiores (Quadr√≠ceps)",
                    days: "Ter√ßa-feira",
                    focus: "Coxas e Agachamento",
                    exercises: [
                        { 
                            name: "Agachamento Goblet", 
                            setsA: 3, setsI: 4, reps: "10-12", wA: "18kg", wI: "10kg", 
                            tip: "Peso no peito, des√ßa fundo.", 
                            visual: "Segure o halter no peito. P√©s afastados. Agache jogando o quadril para tr√°s.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Dumbbell_Goblet_Squat/0.mp4" 
                        },
                        { 
                            name: "Leg Press 45¬∫", 
                            setsA: 3, setsI: 4, reps: "12", wA: "100kg", wI: "60kg", 
                            tip: "P√©s no centro. Foco na coxa.", 
                            visual: "Empurre a plataforma com a for√ßa dos calcanhares. Controle a descida.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Sled_45_Degrees_Leg_Press/0.mp4"
                        },
                        { 
                            name: "Cadeira Extensora", 
                            setsA: 3, setsI: 3, reps: "12-15", wA: "30kg", wI: "15kg", 
                            tip: "Segure 1s no topo.", 
                            visual: "Sentado, estenda os joelhos completamente contraindo a coxa.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Lever_Leg_Extension/0.mp4"
                        },
                        { 
                            name: "Panturrilha em P√©", 
                            setsA: 4, setsI: 4, reps: "15-20", wA: "Corpo", wI: "Corpo", 
                            tip: "Amplitude m√°xima.", 
                            visual: "Na ponta de um degrau. Des√ßa o calcanhar at√© alongar tudo e suba.",
                            video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Lever_Standing_Calf_Raise/0.mp4"
                        }
                    ]
                },
                Rest1: {
                    title: "Recupera√ß√£o Ativa (Academia)",
                    days: "Quarta-feira",
                    focus: "Cardio Leve, Mobilidade e Core",
                    exercises: [
                        { name: "Bicicleta / El√≠ptico", setsA: "20-30", setsI: "min", reps: "Leve", wA: "-", wI: "-", tip: "Sem resist√™ncia pesada.", visual: "Mantenham um ritmo confort√°vel.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Walk_Elliptical_Cross_Trainer/0.mp4" },
                        { name: "Manguito Rotador", setsA: "3x", setsI: "3x", reps: "15", wA: "Leve", wI: "Leve", tip: "Preven√ß√£o de les√£o.", visual: "Cole o cotovelo na cintura e rode o bra√ßo para fora.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Cable_External_Rotation/0.mp4" },
                        { name: "Mobilidade Tor√°cica", setsA: "3x", setsI: "3x", reps: "10", wA: "-", wI: "-", tip: "Melhora a postura.", visual: "Ajoelhado de frente para um banco, apoie os cotovelos e deixe o peito descer.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Kneeling_Lat_Stretch/0.mp4" },
                        { name: "Prancha Abdominal", setsA: "3x", setsI: "3x", reps: "45s", wA: "Core", wI: "Core", tip: "Contraia gl√∫teos.", visual: "Apoie antebra√ßos e ponta dos p√©s. Mantenha o corpo reto.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Plank/0.mp4" }
                    ]
                },
                A2: {
                    title: "A2: Superiores (Horizontal)",
                    days: "Quinta-feira",
                    focus: "Costas Detalhe / Ombros / B√≠ceps",
                    exercises: [
                        { name: "Remada Baixa", setsA: 4, setsI: 3, reps: "12-15", wA: "35kg", wI: "18kg", tip: "Aperte as esc√°pulas.", visual: "Sentado, puxe o tri√¢ngulo no umbigo.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Cable_Seated_Row/0.mp4" },
                        { name: "Voador / Peck Deck", setsA: 3, setsI: 2, reps: "12-15", wA: "30kg", wI: "15kg", tip: "Isolamento de peito.", visual: "Cotovelos na altura dos ombros. Feche os bra√ßos no centro.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Lever_Pec_Deck_Fly/0.mp4" },
                        { name: "Eleva√ß√£o Lateral", setsA: 4, setsI: 2, reps: "12-15", wA: "7kg", wI: "3kg", tip: "N√£o suba acima do ombro.", visual: "Em p√©, abra os bra√ßos lateralmente como asas.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Dumbbell_Lateral_Raise/0.mp4" },
                        { name: "Rosca Martelo", setsA: 3, setsI: 2, reps: "10-12", wA: "10kg", wI: "4kg", tip: "Pegada neutra.", visual: "Halteres na m√£o, palma virada para dentro. Suba o peso.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Dumbbell_Hammer_Curl/0.mp4" },
                        { name: "Prancha Abdominal", setsA: "3x", setsI: "3x", reps: "Falha", wA: "-", wI: "-", tip: "Umbigo para dentro.", visual: "Mantenha o corpo alinhado e contraia o abd√≥men.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Plank/0.mp4" }
                    ]
                },
                B2: {
                    title: "B2: Inferiores (Posterior)",
                    days: "Sexta-feira",
                    focus: "Gl√∫teos e Posterior (Foco Isabella)",
                    exercises: [
                        { name: "Eleva√ß√£o P√©lvica", setsA: 0, setsI: 4, reps: "10-12", wA: "N/A", wI: "30kg", tip: "Contraia o gl√∫teo no topo.", visual: "Suba at√© alinhar o corpo e esmague o gl√∫teo.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Barbell_Hip_Thrust/0.mp4" },
                        { name: "Stiff (Halter)", setsA: 3, setsI: 4, reps: "10-12", wA: "14kg", wI: "8kg", tip: "Coluna travada e reta.", visual: "Pernas semi-flexionadas. Des√ßa o tronco jogando o quadril para tr√°s.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Dumbbell_Stiff_Leg_Deadlift/0.mp4" },
                        { name: "Mesa Flexora", setsA: 3, setsI: 3, reps: "12-15", wA: "20kg", wI: "12kg", tip: "N√£o levante o quadril.", visual: "Deitado, puxe o peso em dire√ß√£o ao gl√∫teo.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Lever_Lying_Leg_Curl/0.mp4" },
                        { name: "Cadeira Abdutora", setsA: 3, setsI: 4, reps: "15-20", wA: "30kg", wI: "25kg", tip: "Tronco levemente √† frente.", visual: "Afaste as pernas empurrando os apoios para fora.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Lever_Seated_Hip_Abduction/0.mp4" }
                    ]
                },
                Rest2: {
                    title: "Cardio & Flexibilidade",
                    days: "S√°bado",
                    focus: "Cardio Moderado e Alongamento",
                    exercises: [
                        { name: "Remo / Esteira", setsA: "20", setsI: "min", reps: "M√©dio", wA: "-", wI: "-", tip: "Aquecimento geral.", visual: "Objetivo √© transpirar sem exaust√£o.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Run/0.mp4" },
                        { name: "Abdominal Infra", setsA: "3x", setsI: "3x", reps: "12-15", wA: "Corpo", wI: "Corpo", tip: "Foco na parte inferior.", visual: "Elevem os joelhos em dire√ß√£o ao peito.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Lying_Leg_Raise_Flat_Bench/0.mp4" },
                        { name: "Face Pulls", setsA: "3x", setsI: "3x", reps: "15", wA: "Leve", wI: "Leve", tip: "Puxe para a testa.", visual: "Puxem em dire√ß√£o √† testa, abrindo os cotovelos.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Cable_Standing_Face_Pull_with_Rope/0.mp4" },
                        { name: "Along. Posterior", setsA: "2x", setsI: "2x", reps: "45s", wA: "-", wI: "-", tip: "Relaxe a respira√ß√£o.", visual: "Sentados, inclinem o tronco √† frente tentando tocar nos p√©s.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Seated_Hamstring_Stretch/0.mp4" },
                        { name: "Along. Gl√∫teo", setsA: "2x", setsI: "2x", reps: "45s", wA: "-", wI: "-", tip: "Alivia dores na lombar.", visual: "Cruzem uma perna sobre o joelho oposto e puxem.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Glute_Stretch/0.mp4" },
                        { name: "Postura Crian√ßa", setsA: "2x", setsI: "2x", reps: "60s", wA: "-", wI: "-", tip: "Alongamento total.", visual: "Ajoelhados, baixem a testa no ch√£o e estiquem os bra√ßos.", video: "https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/Kneeling_Lat_Stretch/0.mp4" }
                    ]
                }
            };

            const cur = trainingData[activeTab];

            return (
                <div className="max-w-md mx-auto p-4 pb-32 min-h-screen flex flex-col">
                    
                    {/* Header */}
                    <div className="mb-6 pt-4 text-center">
                        <h1 className="text-2xl font-black text-slate-800 tracking-tighter uppercase leading-none">Planejamento de Treino</h1>
                        <p className="text-xs font-bold text-slate-400 uppercase mt-1">Arthur & Isabella</p>
                    </div>

                    {/* Navigation Tabs (2 Columns) */}
                    <div className="grid grid-cols-2 gap-2 mb-4">
                        {['A1', 'B1', 'Rest1', 'A2', 'B2', 'Rest2'].map((tab) => {
                            const labels = { A1: 'Segunda', B1: 'Ter√ßa', Rest1: 'Quarta', A2: 'Quinta', B2: 'Sexta', Rest2: 'S√°bado' };
                            const colors = { 
                                A1: 'blue', B1: 'indigo', Rest1: 'emerald', 
                                A2: 'sky', B2: 'purple', Rest2: 'orange' 
                            };
                            const isActive = activeTab === tab;
                            const c = colors[tab];
                            
                            return (
                                <button 
                                    key={tab}
                                    onClick={() => setActiveTab(tab)} 
                                    className={`p-3 rounded-xl font-black text-xs transition-all border 
                                        ${isActive 
                                            ? `bg-${c}-600 text-white border-${c}-600 shadow-md` 
                                            : `bg-white text-slate-500 border-slate-200 shadow-sm`
                                        }`}
                                >
                                    {tab === 'Rest1' ? 'Descanso' : (tab === 'Rest2' ? 'Opcional' : tab)} 
                                    <span className="opacity-70 font-normal ml-1">{labels[tab]}</span>
                                </button>
                            );
                        })}
                    </div>

                    {/* Card Principal */}
                    <div className="bg-white rounded-2xl overflow-hidden shadow-lg border border-slate-100 flex-1">
                        <div className="p-4 bg-slate-50 border-b border-slate-100">
                            <h2 className="text-sm font-black text-slate-800 uppercase">{cur.title}</h2>
                            <p className="text-[10px] text-slate-500 font-bold mt-0.5">{cur.focus}</p>
                        </div>

                        <div className="overflow-y-auto">
                            <table className="w-full text-left">
                                <thead className="sticky top-0 bg-white z-10 shadow-sm">
                                    <tr className="text-[9px] text-slate-400 font-black uppercase border-b border-slate-100">
                                        <th className="p-3 w-1/2">Atividade</th>
                                        <th className="p-3 w-1/3">Meta</th>
                                        <th className="p-3 text-center">Guia</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-50">
                                    {cur.exercises.map((ex, i) => (
                                        <tr key={i} className="hover:bg-slate-50 transition-colors">
                                            {/* Nome e Reps */}
                                            <td className="p-3 align-middle">
                                                <div className="text-xs font-extrabold text-slate-800 leading-tight">{ex.name}</div>
                                                {(activeTab !== 'Rest1' && activeTab !== 'Rest2') && (
                                                    <div className="text-[9px] text-slate-400 font-bold mt-1 bg-slate-100 inline-block px-1.5 py-0.5 rounded">
                                                        {ex.setsA}A / {ex.setsI}I ‚Ä¢ {ex.reps} reps
                                                    </div>
                                                )}
                                                {(activeTab === 'Rest1' || activeTab === 'Rest2') && (
                                                    <div className="text-[9px] text-emerald-600 font-bold mt-1 bg-emerald-50 inline-block px-1.5 py-0.5 rounded">Recupera√ß√£o</div>
                                                )}
                                            </td>
                                            {/* Inputs de Carga */}
                                            <td className="p-3 align-middle">
                                                <div className="flex flex-col gap-1.5">
                                                    {(activeTab !== 'Rest1' && activeTab !== 'Rest2') ? (
                                                        <>
                                                            <div className="flex items-center gap-1">
                                                                <span className="text-[8px] font-black text-white bg-blue-500 w-4 h-4 rounded flex items-center justify-center">A</span>
                                                                <input defaultValue={ex.wA.replace('kg','')} type="tel" className="w-full p-1 text-[11px] font-bold bg-slate-50 border border-slate-200 rounded text-center focus:ring-1 focus:ring-blue-500" />
                                                            </div>
                                                            <div className="flex items-center gap-1">
                                                                <span className="text-[8px] font-black text-white bg-indigo-500 w-4 h-4 rounded flex items-center justify-center">I</span>
                                                                <input defaultValue={ex.wI.replace('kg','')} type="tel" className="w-full p-1 text-[11px] font-bold bg-slate-50 border border-slate-200 rounded text-center focus:ring-1 focus:ring-indigo-500" />
                                                            </div>
                                                        </>
                                                    ) : (
                                                        <div className="text-[10px] font-bold text-slate-500 text-center bg-slate-50 p-2 rounded border border-slate-100">{ex.setsA} {ex.setsI}</div>
                                                    )}
                                                </div>
                                            </td>
                                            {/* Bot√£o Modal */}
                                            <td className="p-3 text-center align-middle">
                                                <button onClick={() => setModalExercise(ex)} className="w-8 h-8 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center hover:bg-blue-50 hover:text-blue-600 active:bg-blue-100 active:scale-95 transition-all">
                                                    üëÅÔ∏è
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Cardio Cards */}
                    {(activeTab !== 'Rest1' && activeTab !== 'Rest2') && (
                        <div className="grid grid-cols-2 gap-2 mt-4">
                            <div className="bg-sky-50 p-3 rounded-xl border border-sky-100">
                                <h4 className="text-[9px] font-black text-sky-600 uppercase mb-1">ARTHUR</h4>
                                <p className="text-[10px] font-bold text-sky-900 leading-tight">Esteira Inclinada</p>
                                <p className="text-[9px] text-sky-700 mt-0.5">30min p√≥s-treino</p>
                            </div>
                            <div className="bg-violet-50 p-3 rounded-xl border border-violet-100">
                                <h4 className="text-[9px] font-black text-violet-600 uppercase mb-1">ISABELLA</h4>
                                <p className="text-[10px] font-bold text-violet-900 leading-tight">Escada / El√≠ptico</p>
                                <p className="text-[9px] text-violet-700 mt-0.5">20min p√≥s-treino</p>
                            </div>
                        </div>
                    )}

                    {/* --- MODAL (MP4) --- */}
                    {modalExercise && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center px-4 py-6 animate-in fade-in duration-200">
                            <div className="absolute inset-0 modal-overlay" onClick={() => setModalExercise(null)}></div>
                            
                            <div className="relative bg-white w-full max-w-sm rounded-[2rem] shadow-2xl p-6 animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto no-scrollbar">
                                
                                <div className="flex justify-between items-start mb-4">
                                    <h3 className="text-lg font-black text-slate-800 leading-tight pr-4">{modalExercise.name}</h3>
                                    <button onClick={() => setModalExercise(null)} className="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 text-sm font-bold">‚úï</button>
                                </div>
                                
                                <div className="space-y-4">
                                    {/* PLAYER DE V√çDEO DO GITHUB */}
                                    {modalExercise.video && (
                                        <div className="rounded-xl overflow-hidden bg-slate-100 border border-slate-200 shadow-sm flex items-center justify-center bg-black">
                                            <video 
                                                src={modalExercise.video} 
                                                className="w-full max-h-[300px] object-cover" 
                                                autoPlay 
                                                loop 
                                                muted 
                                                playsInline
                                            />
                                        </div>
                                    )}

                                    <div className="bg-slate-50 p-4 rounded-2xl">
                                        <p className="text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1">Execu√ß√£o</p>
                                        <p className="text-xs text-slate-600 leading-relaxed font-medium">{modalExercise.visual}</p>
                                    </div>
                                    <div className="bg-amber-50 p-4 rounded-2xl border border-amber-100">
                                        <p className="text-[10px] font-black text-amber-700 uppercase mb-1">üí° Dica Pro</p>
                                        <p className="text-xs text-amber-900 font-bold leading-relaxed">"{modalExercise.tip}"</p>
                                    </div>
                                </div>

                                <button onClick={() => setModalExercise(null)} className="w-full mt-6 py-3.5 bg-slate-900 text-white text-xs font-black uppercase tracking-widest rounded-xl shadow-lg active:scale-95 transition-all">
                                    Fechar
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>